# 2025-12-15 17:49 수정 내역

## 1. `requirements.txt`: 의존성 추가
- `pydantic-settings` 라이브러리를 추가하여 환경 변수 관리 기능의 안정성을 강화했습니다.

## 2. `app/config/settings.py`: 설정 관리 방식 리팩터링
- 기존의 `os.getenv`와 `python-dotenv`를 직접 사용하던 방식에서 Pydantic의 `BaseSettings`를 상속받는 방식으로 변경했습니다.
- **주요 변경 사항:**
    - 애플리케이션 시작 시 `.env` 파일의 환경 변수를 자동으로 읽고 유효성을 검사합니다.
    - 필수 환경 변수가 누락된 경우, 프로그램이 즉시 시작되지 않고 오류를 발생시켜 문제를 빠르게 인지할 수 있도록 개선했습니다.
    - `DATABASE_URL`과 같이 다른 설정값에 의존하는 변수를 `@computed_field`를 사용하여 동적으로 생성하도록 변경하여 코드의 명확성을 높였습니다.

---

## 3. `requirements.txt`: 미사용 의존성 제거
- 비동기 애플리케이션에서 사용되지 않는 동기 라이브러리 `requests`를 `requirements.txt`에서 삭제하여 의존성을 정리했습니다.

## 4. `app/main.py` & `app/dependencies/db_connection.py`: 데이터베이스 커넥션 풀링 구현
- **`app/main.py` 수정:**
    - 애플리케이션 `startup` 이벤트 시 `asyncpg` 커넥션 풀을 생성하여 `app.state.db_pool`에 저장하는 로직을 추가했습니다.
    - `shutdown` 이벤트 시 생성된 커넥션 풀을 안전하게 닫도록 구현했습니다.
- **`app/dependencies/db_connection.py` 수정:**
    - 요청 시마다 새로운 DB 커넥션을 생성하는 대신, `app.state.db_pool`에 미리 생성된 커넥션 풀에서 커넥션을 가져와 사용하도록 `get_db_connection` 의존성을 변경했습니다.
- **기대 효과:** 이 변경으로 요청 처리 시마다 데이터베이스에 연결하고 해제하는 오버헤드가 사라져 애플리케이션의 성능과 안정성이 크게 향상됩니다.